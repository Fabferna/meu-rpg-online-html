<!DOCTYPE html>
<html lang="pt-BR">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Aethelgard - Entrar ou Registrar</title>
        <meta name="description" content="Acesse sua conta ou registre-se para iniciar sua jornada em Aethelgard.">

        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&family=Lora:ital,wght@0,400;0,700;1,400&display=swap" rel="stylesheet">

        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />

        <link rel="stylesheet" href="src/css/header_footer.css">
        <link rel="stylesheet" href="src/css/logar.css">

        <link rel="icon" href="favicon.ico" type="image/x-icon">
    </head>
    <body>
        <header>
            <div class="container header-container">
                <h1 class="site-title"><a href="index.html">Aethelgard</a></h1>
                <nav class="main-menu" aria-label="Navegação Principal">
                    <button class="menu-toggle" aria-expanded="false" aria-controls="menu-list">
                        <span class="sr-only">Abrir Menu</span>
                        ☰
                    </button>
                    <ul id="menu-list">
                        <li><a href="index.html">Home</a></li>
                        <li><a href="mundo.html">Mundo</a></li>
                        <li><a href="personagens.html">Personagens</a></li>
                        <li><a href="racas.html">Raças</a></li>
                        <li><a href="equipamentos.html">Equipamentos</a></li>
                        <li><a href="habilidades.html">Habilidades</a></li>
                        <li><a href="logar.html" class="active">Logar</a></li>
                    </ul>
                </nav>
            </div>
        </header>

        <main id="main-content">
            <div class="auth-container">
                <div class="auth-form-wrapper">
                    <div class="form-toggle-buttons">
                        <button id="show-login-btn" class="toggle-btn active" aria-pressed="true">Entrar</button>
                        <button id="show-register-btn" class="toggle-btn" aria-pressed="false">Registrar</button>
                    </div>

                    <form id="login-form" class="auth-form active-form" action="#" method="POST"> <h2>Bem-vindo de Volta, Viajante!</h2>
                        <p class="form-subtitle">Insira suas credenciais para continuar sua jornada.</p>

                        <div class="form-group">
                            <label for="login-email">Seu Email Arcano:</label>
                            <input type="email" id="login-email" name="login-email" required placeholder="ex: heroi@aethelgard.com">
                        </div>

                        <div class="form-group">
                            <label for="login-password">Palavra Secreta:</label>
                            <input type="password" id="login-password" name="login-password" required placeholder="Sua senha">
                        </div>

                        <div class="form-options">
                            <label class="checkbox-label">
                                <input type="checkbox" name="remember-me"> Lembrar-me neste portal
                            </label>
                            <a href="#" class="forgot-password">Esqueceu sua Palavra Secreta?</a>
                        </div>

                        <button type="submit" class="btn-submit">Adentrar o Reino</button>

                        <div class="social-auth">
                            <p class="social-auth-divider"><span>Ou entre com um Pacto Social</span></p>
                            <div class="social-buttons">
                                <button type="button" class="btn-social facebook"><i class="fab fa-facebook-f"></i> Facebook</button>
                                <button type="button" class="btn-social google"><i class="fab fa-google"></i> Google</button>
                                <button type="button" class="btn-social github"><i class="fab fa-github"></i> GitHub</button>
                            </div>
                        </div>
                        <p class="form-switch-text">Não possui um registro? <a href="#" id="switch-to-register-link-1">Crie sua lenda aqui!</a></p>
                    </form>

                    <form id="register-form" class="auth-form" action="#" method="POST"> <h2>Forje sua Lenda em Aethelgard!</h2>
                        <p class="form-subtitle">Complete os campos para iniciar sua saga.</p>

                        <div class="form-group">
                            <label for="register-fullname">Nome de Herói (ou Vilão):</label>
                            <input type="text" id="register-fullname" name="register-fullname" required placeholder="Seu nome completo">
                        </div>

                        <div class="form-group">
                            <label for="register-email">Seu Email Arcano:</label>
                            <input type="email" id="register-email" name="register-email" required placeholder="ex: novoaventureiro@aethelgard.com">
                        </div>

                        <div class="form-group">
                            <label for="register-password">Crie uma Palavra Secreta:</label>
                            <input type="password" id="register-password" name="register-password" minlength="8" required placeholder="Mínimo 8 caracteres">
                        </div>

                        <div class="form-group">
                            <label for="register-confirm-password">Confirme sua Palavra Secreta:</label>
                            <input type="password" id="register-confirm-password" name="register-confirm-password" required placeholder="Repita a senha">
                            <small id="password-match-error" class="error-message" style="display:none;">As senhas não coincidem!</small>
                        </div>
                        
                        <div class="form-group terms-group">
                            <label class="checkbox-label">
                                <input type="checkbox" id="terms" name="terms" required> Eu juro pelos Deuses Antigos que aceito os <a href="#" target="_blank">Termos de Serviço</a> e a <a href="#" target="_blank">Política de Privacidade de Aethelgard</a>.
                            </label>
                        </div>

                        <button type="submit" class="btn-submit">Registrar Minha Saga</button>

                        <div class="social-auth">
                            <p class="social-auth-divider"><span>Ou registre-se com um Pacto Social</span></p>
                            <div class="social-buttons">
                                <button type="button" class="btn-social facebook"><i class="fab fa-facebook-f"></i> Facebook</button>
                                <button type="button" class="btn-social google"><i class="fab fa-google"></i> Google</button>
                                <button type="button" class="btn-social github"><i class="fab fa-github"></i> GitHub</button>
                            </div>
                        </div>
                        <p class="form-switch-text">Já é uma lenda conhecida? <a href="#" id="switch-to-login-link-1">Entre por este portal!</a></p>
                    </form>
                </div>
            </div>
        </main>

        <footer>
            <div class="container">
                <p>&copy; 2024-2025 Aethelgard. Todos os direitos reservados.</p>
                <p>Onde lendas são forjadas e jornadas épicas começam.</p>
            </div>
        </footer>

        <script>
            // Script básico para toggle do menu mobile (idealmente em um arquivo .js separado)
            const menuToggle = document.querySelector('.menu-toggle');
            const menuList = document.querySelector('#menu-list');

            if (menuToggle && menuList) {
                menuToggle.addEventListener('click', () => {
                    const isExpanded = menuToggle.getAttribute('aria-expanded') === 'true' || false;
                    menuToggle.setAttribute('aria-expanded', !isExpanded);
                    menuList.classList.toggle('active');
                    menuToggle.innerHTML = !isExpanded ? '&times;' : '☰';
                });
            }

            // Script para alternar entre formulários de Login e Registro
            const showLoginBtn = document.getElementById('show-login-btn');
            const showRegisterBtn = document.getElementById('show-register-btn');
            const loginForm = document.getElementById('login-form');
            const registerForm = document.getElementById('register-form');
            const switchToRegisterLink1 = document.getElementById('switch-to-register-link-1');
            const switchToLoginLink1 = document.getElementById('switch-to-login-link-1');


            function showForm(formToShow, btnToActivate) {
                // Esconde todos os forms e desativa todos os botões de toggle
                loginForm.classList.remove('active-form');
                registerForm.classList.remove('active-form');
                showLoginBtn.classList.remove('active');
                showRegisterBtn.classList.remove('active');
                showLoginBtn.setAttribute('aria-pressed', 'false');
                showRegisterBtn.setAttribute('aria-pressed', 'false');

                // Mostra o form desejado e ativa o botão correspondente
                formToShow.classList.add('active-form');
                btnToActivate.classList.add('active');
                btnToActivate.setAttribute('aria-pressed', 'true');
            }

            if (showLoginBtn && showRegisterBtn && loginForm && registerForm) {
                showLoginBtn.addEventListener('click', () => showForm(loginForm, showLoginBtn));
                showRegisterBtn.addEventListener('click', () => showForm(registerForm, showRegisterBtn));
                
                if(switchToRegisterLink1) {
                    switchToRegisterLink1.addEventListener('click', (e) => {
                        e.preventDefault();
                        showForm(registerForm, showRegisterBtn);
                    });
                }
                if(switchToLoginLink1) {
                    switchToLoginLink1.addEventListener('click', (e) => {
                        e.preventDefault();
                        showForm(loginForm, showLoginBtn);
                    });
                }
            }

            // Validação básica de confirmação de senha (exemplo)
            const passwordField = document.getElementById('register-password');
            const confirmPasswordField = document.getElementById('register-confirm-password');
            const passwordMatchError = document.getElementById('password-match-error');

            if (passwordField && confirmPasswordField && passwordMatchError && registerForm) {
                const validatePasswords = () => {
                    if (passwordField.value !== confirmPasswordField.value && confirmPasswordField.value !== "") {
                        passwordMatchError.style.display = 'block';
                        confirmPasswordField.setCustomValidity("As senhas não coincidem."); // Para validação HTML5
                    } else {
                        passwordMatchError.style.display = 'none';
                        confirmPasswordField.setCustomValidity("");
                    }
                };

                passwordField.addEventListener('input', validatePasswords);
                confirmPasswordField.addEventListener('input', validatePasswords);

                registerForm.addEventListener('submit', function(event) {
                    validatePasswords(); // Garante a validação final no submit
                    if (passwordField.value !== confirmPasswordField.value) {
                        event.preventDefault(); // Impede o envio do formulário se as senhas não baterem
                        alert("Por favor, verifique se as senhas coincidem antes de prosseguir.");
                    }
                    // A validação de 'required' e 'minlength' é feita pelo HTML5 automaticamente.
                    // Outras validações (ex: força da senha) exigiriam mais JS.
                });
            }
            
            // Placeholder para funcionalidade de login social (requer back-end)
            document.querySelectorAll('.btn-social').forEach(button => {
                button.addEventListener('click', () => {
                    const provider = button.classList.contains('facebook') ? 'Facebook' :
                                    button.classList.contains('google') ? 'Google' : 'GitHub';
                    alert(`A integração com ${provider} é uma funcionalidade de back-end e será implementada futuramente!`);
                    // Aqui ocorreria a chamada para o endpoint de OAuth do seu back-end.
                });
            });

        </script>
    </body>
</html>